<html xmlns:n="http://nevow.com/ns/nevow/0.1">
    <head>
        <n:invisible n:render="liveglue" />
        <style type="text/css">
            #controller {
                border: 1px solid #999;
				text-align: center;
                font-family: monospace;
                margin-top: 5em;
                margin-left: auto;
                margin-right: auto;
            }
            #status{
/*                border: 1px solid #999;	*/
				text-align: left;				
			}
			#button {
                border: 1px solid #999;
            }
            #idfield {
                border: 1px solid #999;
            }
			#stdin{
				color: green;
				font-weight: bold;
			}
			#stdout{
				color: blue;
				font-weight: bold;
			}
			#stderr{
				color: red;
				font-weight: bold;
			}
            #output {
                border: 0px solid #999;
                text-align: center;
            }
        </style>
        <script type="text/javascript">
        getStatus = function(id) {
            d = server.callRemote('status', id);
            d.addCallback(updateDisplay);
        }
        updateDisplay = function(expression) {
            getElement('output').innerHTML = expression;
        }
		if (!ids){
			var ids = 'all'
		}
		changeField = function(){
			ids = document.getElementById("idfield").value
			return getStatus(ids)
		}
		getStatus(ids);
        </script>
		
    </head>
    <body>
        <table id="controller">
			<tr><td><form id="idform" name="idform" action="javascript:changeField()">
				<input id="idfield" name="idfield" type="text" value="all"/>
			</form></td>
            </tr>
			<tr>
			<td><button onClick="return getStatus(ids);" align="center">refresh</button></td>
			</tr>
            <tr>
                <td id="output" align="center">click 'refresh' to refresh status</td>
			</tr>
        </table>
    </body>
</html>

